<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Kraken 1H Gainers & Losers</title>

<style>
:root {
  --bg: #000;
  --fg: #fff;
  --muted: #9b9b9b;
  --green: #00ff7f;
  --red: #ff5252;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  width: 640px;
  height: 640px;
  background: #000;
  font-family: Arial, sans-serif, Roboto;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--fg);
}

/* Circle safe display */
.safe {
  width: 620px;
  height: 620px;
  border-radius: 20%;
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
}

/* Pages */
.page {
  position: absolute;
  width: 100%;
  height: 100%;
  padding: 26px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.35s ease;
}

.page.active { opacity: 1; }

/* Title */
.title {
  text-align: center;
  font-size: 48px;   /* BIGGER */
  font-weight: 500;
  margin-bottom: 32px;
}

/* List */
.list {
  display: flex;
  flex-direction: column;
  gap: 6px;          /* TIGHTER */
}

/* Row */
.row {
  display: flex;
  justify-content: space-between;
  font-size: 50px;   /* BIGGER */
  font-weight: 400;
}

/* Token name */
.symbol {
  max-width: 90%;     /* MORE SPACE FOR NAME */
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
}

/* Percentage */
.change {
  min-width: 78px;   /* MUCH CLOSER */
  text-align: right;
}

/* Colors */
.green { color: var(--green); }
.red   { color: var(--red); }

/* Footer */
.updated {
  margin-top: 12px;
  font-size: 14px;
  text-align: center;
  color: var(--muted);
}
</style>
</head>

<body>

<div class="safe">

  <!-- GAINERS -->
  <div id="page-gainers" class="page active">
    <div class="title">1H GAINERS</div>
    <div id="gainers-list" class="list"></div>
    <div id="time1" class="updated">Loading...</div>
  </div>

  <!-- LOSERS -->
  <div id="page-losers" class="page">
    <div class="title">1H LOSERS</div>
    <div id="losers-list" class="list"></div>
    <div id="time2" class="updated">Loading...</div>
  </div>

</div>

<script>
/* SETTINGS */
const PAGE_SWITCH_MS = 6000;
const REFRESH_MS = 5 * 60 * 1000;

/* CREATE ROWS */
function createRows(containerId, colorClass) {
  const container = document.getElementById(containerId);
  const rows = [];

  for (let i = 0; i < 5; i++) {
    const row = document.createElement("div");
    row.className = "row";

    const sym = document.createElement("span");
    sym.className = "symbol";
    sym.textContent = "---";

    const chg = document.createElement("span");
    chg.className = "change " + colorClass;
    chg.textContent = "--.--%";

    row.appendChild(sym);
    row.appendChild(chg);
    container.appendChild(row);
    rows.push({ sym, chg });
  }
  return rows;
}

const gainersRows = createRows("gainers-list", "green");
const losersRows  = createRows("losers-list",  "red");

/* PAGE ANIMATION */
let currentPage = "gainers";

function showPage(name) {
  currentPage = name;
  document.getElementById("page-gainers").classList.toggle("active", name === "gainers");
  document.getElementById("page-losers").classList.toggle("active", name === "losers");
}

setInterval(() => {
  showPage(currentPage === "gainers" ? "losers" : "gainers");
}, PAGE_SWITCH_MS);

/* TIME */
function setUpdatedTime(id) {
  const el = document.getElementById(id);
  const d = new Date();
  el.textContent = "Updated " +
    String(d.getHours()).padStart(2,"0") + ":" +
    String(d.getMinutes()).padStart(2,"0");
}

/* APPLY DATA */
function applyData(gainers, losers) {

  gainers.forEach((c, i) => {
    gainersRows[i].sym.textContent = c.symbol;
    gainersRows[i].chg.textContent = "+ " + c.change.toFixed(2) + "%";
  });

  losers.forEach((c, i) => {
    losersRows[i].sym.textContent = c.symbol;
    losersRows[i].chg.textContent = c.change.toFixed(2) + "%";
  });

  setUpdatedTime("time1");
  setUpdatedTime("time2");
}

/* DEMO DATA */
function loadData() {

  const gainers = [
    {symbol:"VRA", change:36.72},
    {symbol:"SBTC",change:8.47},
    {symbol:"HSK", change:4.36},
    {symbol:"OOB", change:4.04},
    {symbol:"ICNT",change:3.82}
  ];

  const losers = [
    {symbol:"MYX",change:-14.96},
    {symbol:"WOJAK",change:-8.65},
    {symbol:"IRYS",change:-8.34},
    {symbol:"BEAT",change:-6.94},
    {symbol:"META",change:-6.68}
  ];

  applyData(gainers, losers);
}

loadData();
setInterval(loadData, REFRESH_MS);
</script>

</body>
</html>
